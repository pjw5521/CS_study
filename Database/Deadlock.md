## Deadlock (교착상태)

#### 작성자 : [박지원](@pjw5521)

</br>

### 1. **교착상태(Deadlock)** 이란 ?
- 두 개 이상의 트랜잭션이 특정 자원의 lock을 가지고 있고 다른 트랜잭션이 이미 lock된 자원을 요구할 때 아무리 기다려고 상황이 바뀌지 않는 상태 
- 동시성을 위한 로킹(Locking)의 부작용 

### 2. 해결 방법 
**예방**
- 각 트랜잭션이 실행되기 전에 필요한 데이터를 모두 locking 
- 트랜잭션의 병행성을 보장하지 못함 
- 기아 상태 발생 가능

**회피**
Wait-Die 방식
- A가 B에 의해 로킹된 데이터를 요청할 때, A가 먼저 들어온 트랜잭션이라면 기다리고(Wait) 나중에 들어온 트랜잭션이라면 포기(Die)

Wound-Wait 방식
- A가 B에 의해 로킹된 데이터를 요청할 때, A가 먼저 들어온 트랜잭션이라면 데이터를 선점(wound)하고 나중에 들어온 트랜잭션이라면 기다림(Wait)

**빈도를 낮추는 방법**
- 트랜잭션을 자주 commit 
- 정해진 순서로 테이블에 접근
- 읽기 잠금 획득의 사용을 피한다